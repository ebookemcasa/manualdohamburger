<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pães Artesanais - Mestre Culinário</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lato:wght@400;700&display=swap');
        body { font-family: 'Lato', sans-serif; background-color: #f8f7f4; color: #3d3d3d; }
        h1, h2, h3, h4, .nav-link { font-family: 'Playfair Display', serif; }
        
        /* Estilos para interatividade */
        .aula-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }
        .aula-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
        }
        
        /* Checklist de Ingredientes */
        .ingredient-item input[type="checkbox"] {
            display: none;
        }
        .ingredient-item span {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        .ingredient-item input[type="checkbox"]:checked + span {
            text-decoration: line-through;
            opacity: 0.6;
        }

        /* Acordion/Sanfona para os Passos */
        details > summary {
            cursor: pointer;
            list-style: none;
            display: inline-flex;
            align-items: center;
            transition: color 0.2s ease;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        details > summary::before {
            content: '▶';
            margin-right: 8px;
            font-size: 0.7em;
            transition: transform 0.2s ease-in-out;
        }
        details[open] > summary::before {
            transform: rotate(90deg);
        }

        /* Tooltips para termos técnicos */
        .tooltip {
            position: relative;
            cursor: help;
            border-bottom: 2px dotted #ca8a04;
            font-weight: bold;
        }
        .tooltip::after {
            content: attr(data-tooltip); /* Puxa o texto do atributo data-tooltip */
            position: absolute;
            bottom: 125%;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            
            /* Estilos da caixa */
            width: 220px;
            background-color: #3d3d3d;
            color: #fff;
            font-family: 'Lato', sans-serif;
            font-weight: normal;
            text-align: center;
            padding: 8px;
            border-radius: 6px;
            
            /* Animação */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }
        .tooltip:hover::after {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body class="antialiased">
    <header class="bg-white/90 backdrop-blur-lg sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="index.html" class="text-3xl font-bold text-stone-800">Mestre<span class="text-amber-600">Culinário</span></a>
                <a href="index.html" class="nav-link text-stone-600 hover:text-amber-600 transition-colors">Voltar à Página Principal</a>
            </div>
        </nav>
    </header>
    <main class="container mx-auto px-6 py-8 md:py-12">
        <section id="page-title" class="text-center mb-16">
            <h1 class="text-4xl md:text-6xl font-bold text-stone-800">Pães <span class="text-amber-600">Artesanais</span></h1>
            <p class="mt-4 max-w-2xl mx-auto text-stone-600">Descubra a magia de transformar farinha, água e sal. Aulas que o guiam desde o seu primeiro pão até à arte da fermentação natural.</p>
        </section>

        <div id="aulas-list" class="space-y-8 max-w-5xl mx-auto">
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-pao-sem-sova"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 01: Pão Sem Sova (No-Knead Bread)</h2><p class="text-stone-600 mt-2">A forma mais fácil de começar. Deixe o tempo fazer o trabalho por si.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-pao-rustico"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 02: Pão Rústico Caseiro</h2><p class="text-stone-600 mt-2">Aprenda a sovar e a formar o seu primeiro pão de casca crocante.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-pao-de-queijo"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 03: Pão de Queijo Tradicional</h2><p class="text-stone-600 mt-2">O clássico mineiro, elástico por dentro e dourado por fora.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-focaccia"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 04: Focaccia com Alecrim e Sal Grosso</h2><p class="text-stone-600 mt-2">Aprenda a trabalhar com massas de alta hidratação para um resultado fofo e aerado.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-pao-de-leite"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 05: Pão de Leite Fofinho</h2><p class="text-stone-600 mt-2">Uma introdução às massas ricas, resultando num pão de textura macia.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-baguete"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 06: Baguete Francesa Simplificada</h2><p class="text-stone-600 mt-2">Concentre-se na técnica de modelagem para conseguir o formato icónico.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-pao-integral"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 07: Pão Integral com Sementes</h2><p class="text-stone-600 mt-2">Aprenda a trabalhar com farinhas integrais para um pão nutritivo e saboroso.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-massa-pizza"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 08: Massa de Pizza Clássica (Longa Fermentação)</h2><p class="text-stone-600 mt-2">O segredo de uma base de pizza com bolhas e sabor de pizzaria.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-pao-biga"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 09: Pão Italiano com Biga</h2><p class="text-stone-600 mt-2">Um passo avançado: aprenda a usar um pré-fermento para mais sabor e estrutura.</p></div>
            <div class="aula-card bg-white p-6 rounded-lg shadow-lg" data-target="receita-sourdough"><h2 class="text-2xl md:text-3xl font-bold text-amber-700">Aula 10: Introdução ao Pão de Fermentação Natural</h2><p class="text-stone-600 mt-2">O guia para criar e manter o seu próprio levain (massa mãe) e fazer o seu primeiro pão.</p></div>
        </div>

        <div id="receitas-container" class="hidden">
            <button id="back-to-list-btn" class="mb-8 inline-flex items-center text-amber-700 hover:text-amber-800 font-bold"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" /></svg>Voltar ao Índice de Aulas</button>
            <div id="receita-pao-sem-sova" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-pao-rustico" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-pao-de-queijo" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-focaccia" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-pao-de-leite" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-baguete" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-pao-integral" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-massa-pizza" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-pao-biga" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
            <div id="receita-sourdough" class="receita-content bg-white p-8 rounded-lg shadow-xl max-w-7xl mx-auto hidden"></div>
        </div>
    </main>
    <footer class="bg-white border-t mt-16"><div class="container mx-auto px-6 py-8 text-center text-stone-600"><p>&copy; 2024 Mestre Culinário. Todos os direitos reservados.</p></div></footer>

    <script src="database.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const aulas = {
            'pao-sem-sova': {
                title: "Aula 01: Pão Sem Sova (No-Knead Bread)",
                description: "A receita que revolucionou a panificação caseira. Aprenda a fazer um pão de casca crocante e miolo aerado com qualidade de padaria, com um esforço ativo de menos de 5 minutos. O tempo fará todo o trabalho por si.",
                calculator: { label: "Gramas de Farinha:", unit: "pao-sem-sova-input", base_value: 400, default_value: 400 },
                details: { tempoPreparo: "5 min", tempoCozimento: "45 min", tempoDescanso: "12-18 horas", rendimento: "1 pão redondo", dificuldade: "Fácil", utensilios: ["Panela de ferro fundido com tampa (Dutch Oven)", "Tigela grande", "Espátula"] },
                dicaDeMestre: "O segredo do sucesso desta receita é a panela de ferro superaquecida. Ela funciona como um 'mini-forno', aprisionando o vapor libertado pelo pão. Este vapor mantém a crosta macia no início, permitindo que o pão cresça ao máximo, e depois escapa, criando uma crosta estaladiça.",
                ingredients: [
                    { name: 'Farinha de Trigo', base_qty: 400, unit: 'g', scalable: true },
                    { name: 'Água morna', base_qty: 300, unit: 'ml', scalable: true },
                    { name: 'Sal', base_qty: 8, unit: 'g (1.5 c. de chá)', scalable: true },
                    { name: 'Fermento Biológico Seco', base_qty: 1, unit: 'g (1/4 c. de chá)', scalable: true }
                ],
                steps: [
                    { title: "A Mistura", description: "Numa tigela grande, misture a farinha, o sal e o fermento. Adicione a água morna e misture com uma espátula ou colher apenas até não haver mais farinha seca visível. A massa será pegajosa e desgrenhada. Não precisa de sovar.", porque: "A longa fermentação fará o trabalho de desenvolver o <span class='tooltip' data-tooltip='Rede de proteínas que dá elasticidade e estrutura à massa.'>glúten</span>, eliminando a necessidade da sova manual. A alta hidratação da massa também contribui para um miolo mais aberto.", pontoCritico: "Apenas misture. Não trabalhe a massa. A beleza desta receita está na sua simplicidade." },
                    { title: "A Longa Fermentação", description: "Cubra a tigela com película aderente ou um pano e deixe a massa descansar à temperatura ambiente por 12 a 18 horas. A massa estará pronta quando estiver cheia de bolhas e tiver mais do que duplicado de volume.", porque: "É durante este longo período que a fermentação lenta acontece. O fermento consome os açúcares da farinha, libertando dióxido de carbono (as bolhas) e desenvolvendo sabores complexos que uma fermentação rápida não consegue criar.", pontoCritico: "O tempo exato dependerá da temperatura da sua cozinha. Em dias mais quentes, 12 horas pode ser suficiente. Em dias frios, pode precisar de 18 ou mais." },
                    { title: "Pré-aquecer a Panela", description: "Pelo menos 30 minutos antes de assar, coloque a sua panela de ferro com a tampa dentro do forno e pré-aqueça-o a 230°C. A panela precisa de estar incrivelmente quente.", porque: "O choque térmico de colocar a massa fria na panela a ferver é o que cria a 'explosão de forno' (<span class='tooltip' data-tooltip='O rápido crescimento do pão nos primeiros minutos no forno.'>oven spring</span>), fazendo o pão crescer dramaticamente.", pontoCritico: "Não salte este passo. Uma panela que não está suficientemente quente resultará num pão denso e pálido." },
                    { title: "Assar o Pão", description: "Com cuidado, retire a panela quente do forno. Despeje a massa (que estará pegajosa) na panela. Tape e leve ao forno por 30 minutos. Após 30 minutos, retire a tampa e asse por mais 15 minutos, ou até a crosta estar bem dourada.", porque: "Os primeiros 30 minutos com tampa criam um ambiente cheio de vapor, permitindo o crescimento máximo. Retirar a tampa permite que o vapor escape, secando a superfície e criando a crosta estaladiça.", pontoCritico: "Tenha muito cuidado ao manusear a panela quente. Use luvas de forno de boa qualidade.", timer: 1800 }
                ],
                variacoes: [
                    "<strong>Com Sementes:</strong> Adicione um punhado de sementes de girassol ou abóbora à mistura inicial.",
                    "<strong>Com Azeitonas:</strong> Incorpore azeitonas picadas e um pouco de alecrim na massa.",
                    "<strong>Integral:</strong> Substitua 1/3 da farinha branca por farinha de trigo integral."
                ]
            },
            'pao-rustico': {
                title: "Aula 02: Pão Rústico Caseiro",
                description: "Esta aula é a sua introdução à arte de sovar. Aprenda a desenvolver o glúten com as próprias mãos para criar um pão clássico de casca grossa e miolo macio, perfeito para o dia a dia.",
                calculator: { label: "Gramas de Farinha:", unit: "pao-rustico-input", base_value: 500, default_value: 500 },
                details: { tempoPreparo: "20 min", tempoCozimento: "30-40 min", tempoDescanso: "2 horas", rendimento: "1 pão grande", dificuldade: "Intermediário", utensilios: ["Bancada de trabalho", "Tigela grande", "Lâmina ou faca afiada para cortar"] },
                dicaDeMestre: "O 'teste do ponto de véu' é a forma profissional de saber se a massa está bem sovada. Pegue num pequeno pedaço de massa e estique-o delicadamente com os dedos. Se conseguir formar uma membrana fina e translúcida sem rasgar, o glúten está bem desenvolvido.",
                ingredients: [
                    { name: 'Farinha de Trigo (de força, se possível)', base_qty: 500, unit: 'g', scalable: true },
                    { name: 'Água morna', base_qty: 320, unit: 'ml', scalable: true },
                    { name: 'Fermento Biológico Seco', base_qty: 7, unit: 'g', scalable: true },
                    { name: 'Sal', base_qty: 10, unit: 'g', scalable: true },
                    { name: 'Azeite', base_qty: 2, unit: 'c. de sopa', scalable: true }
                ],
                steps: [
                    { title: "Ativar o Fermento", description: "Numa tigela pequena, misture a água morna com o fermento e uma pitada de açúcar (opcional). Deixe descansar por 5-10 minutos até espumar.", porque: "Este passo prova que o seu fermento está ativo e pronto para trabalhar. Se não espumar, o fermento pode estar morto e o seu pão não irá crescer.", pontoCritico: "A água deve estar morna, não quente. Água quente pode matar o fermento." },
                    { title: "Sovar a Massa", description: "Numa tigela grande, misture a farinha e o sal. Faça um buraco no meio e adicione a mistura de fermento e o azeite. Misture até formar uma massa. Transfira para uma bancada e comece a <span class='tooltip' data-tooltip='Trabalhar a massa vigorosamente para desenvolver a rede de glúten, o que dá estrutura e elasticidade ao pão.'>sovar</span> por 10 a 15 minutos.", porque: "A sova é o exercício que fortalece o glúten. Uma rede de glúten forte aprisiona os gases da fermentação, permitindo que o pão cresça e tenha um miolo fofo.", pontoCritico: "A massa estará pronta quando estiver lisa, elástica e passar no 'teste do ponto de véu'." },
                    { title: "Primeira Fermentação", description: "Forme uma bola com a massa, coloque-a numa tigela levemente untada com azeite, cubra e deixe levedar num local morno por cerca de 1 a 1.5 horas, ou até duplicar de volume.", porque: "Durante este tempo, o fermento alimenta-se e liberta dióxido de carbono, fazendo a massa crescer e desenvolvendo o sabor do pão.", pontoCritico: "Um bom truque para saber se a massa levedou o suficiente é pressionar um dedo nela. Se a marca ficar, está pronta." },
                    { title: "Modelar e Segunda Fermentação", description: "Retire o ar da massa e modele-a no formato desejado (uma bola 'boule' ou um 'batard' alongado). Coloque num tabuleiro forrado com papel vegetal, cubra e deixe levedar por mais 30-45 minutos.", porque: "A modelagem cria tensão na superfície da massa, o que a ajuda a manter a forma e a crescer para cima no forno. A segunda fermentação recupera parte do ar perdido.", pontoCritico: "Não deixe levedar demais na segunda vez, ou o pão pode abater no forno." },
                    { title: "Cortar e Assar", description: "Pré-aqueça o forno a 220°C. Com uma lâmina ou faca muito afiada, faça um ou mais cortes na superfície do pão. Borrife o forno com água para criar vapor e asse por 30-40 minutos, até a crosta estar bem dourada e o pão soar oco ao bater no fundo.", porque: "O corte permite que o pão se expanda de forma controlada no forno. O vapor inicial ajuda a criar uma crosta mais crocante e estaladiça.", pontoCritico: "Os cortes devem ser rápidos e confiantes, com cerca de 1cm de profundidade." }
                ],
                variacoes: [
                    "<strong>Pão de Chouriço:</strong> Incorpore pedaços de chouriço na massa durante a modelagem.",
                    "<strong>Com Queijo e Alho:</strong> Adicione queijo ralado e alho em pó à farinha.",
                    "<strong>Pãezinhos Individuais:</strong> Divida a massa em porções menores e modele pãezinhos."
                ]
            },
            'pao-de-queijo': {
                title: "Aula 03: Pão de Queijo Tradicional",
                description: "Aprenda a fazer o pão de queijo mineiro autêntico, com a casquinha crocante e o interior elástico e 'puxa-puxa'. O segredo está em escaldar o polvilho e na qualidade do queijo.",
                calculator: { label: "Gramas de Polvilho Azedo:", unit: "pao-de-queijo-input", base_value: 500, default_value: 500 },
                details: { tempoPreparo: "20 min", tempoCozimento: "25-35 min", tempoDescanso: "N/A", rendimento: "Aprox. 30 pães de queijo", dificuldade: "Fácil", utensilios: ["Panela", "Tigela grande", "Colher de pau"] },
                dicaDeMestre: "Para um pão de queijo com o interior mais oco, use apenas polvilho azedo. Para um interior mais denso e macio, use uma mistura de metade polvilho azedo e metade polvilho doce. Esta receita foca-se no tradicional polvilho azedo.",
                ingredients: [
                    { name: 'Polvilho Azedo', base_qty: 500, unit: 'g', scalable: true },
                    { name: 'Leite', base_qty: 250, unit: 'ml', scalable: true },
                    { name: 'Óleo Vegetal', base_qty: 100, unit: 'ml', scalable: true },
                    { name: 'Sal', base_qty: 1, unit: 'c. de chá', scalable: true },
                    { name: 'Ovos', base_qty: 2, unit: 'unid.', scalable: true },
                    { name: 'Queijo Minas Curado ou Parmesão, ralado', base_qty: 200, unit: 'g', scalable: true }
                ],
                steps: [
                    { title: "Escaldar o Polvilho", description: "Numa panela, ferva o leite, o óleo e o sal. Assim que levantar fervura, despeje esta mistura quente de uma só vez sobre o polvilho azedo numa tigela grande. Misture com uma colher até formar uma massa granulada e pegajosa. Deixe arrefecer.", porque: "Este processo de <span class='tooltip' data-tooltip='Adicionar um líquido a ferver sobre um amido (como o polvilho) para pré-cozinhar e gelatinizar parte dele.'>escaldar</span> o polvilho pré-gelatiniza o amido, o que é o segredo para a textura elástica e o crescimento do pão de queijo. É o passo mais importante.", pontoCritico: "É crucial deixar a massa arrefecer o suficiente para que não cozinhe os ovos quando os adicionar. Deve estar morna ao toque." },
                    { title: "Adicionar Ovos e Queijo", description: "Quando a massa estiver morna, adicione os ovos, um de cada vez, misturando bem. A massa parecerá desunida no início, mas continue a misturar. Por fim, adicione o queijo ralado e amasse com as mãos até obter uma massa lisa e homogénea.", porque: "Os ovos e o queijo dão a liga final, a gordura e o sabor. Amassar com as mãos ajuda a incorporar tudo de forma uniforme.", pontoCritico: "A massa estará pronta quando não colar nas mãos. Se estiver muito pegajosa, pode adicionar um pouco mais de polvilho, mas com cuidado para não secar a massa." },
                    { title: "Moldar e Assar", description: "Pré-aqueça o forno a 180°C. Unte as mãos com um pouco de óleo e enrole pequenas porções da massa para formar bolinhas. Disponha-as num tabuleiro, deixando espaço entre elas. Leve ao forno por 25 a 35 minutos.", porque: "O calor do forno faz com que a água na massa se transforme em vapor, inflando o pão de queijo e criando o seu interior aerado.", pontoCritico: "Eles estão prontos quando estiverem crescidos e bem dourados. Não asse demais para que o interior não seque.", timer: 1800 }
                ],
                variacoes: [
                    "<strong>Recheado:</strong> Pode rechear as bolinhas com um cubo de queijo ou goiabada antes de assar.",
                    "<strong>Congelamento:</strong> Pode congelar as bolinhas cruas num tabuleiro e depois transferi-las para um saco. Asse diretamente do congelador, adicionando 5-10 minutos ao tempo de forno.",
                    "<strong>Com Ervas:</strong> Adicione orégãos ou alecrim picado à massa."
                ]
            },
            'focaccia': {
                title: "Aula 04: Focaccia com Alecrim e Sal Grosso",
                description: "Aprenda a fazer focaccia, o pão achatado italiano que é uma tela em branco para a sua criatividade. Esta aula foca-se numa massa de alta hidratação e na técnica de 'furar' com os dedos para criar a textura clássica.",
                calculator: { label: "Gramas de Farinha:", unit: "focaccia-input", base_value: 500, default_value: 500 },
                details: { tempoPreparo: "20 min", tempoCozimento: "20-25 min", tempoDescanso: "2 horas", rendimento: "1 focaccia grande", dificuldade: "Intermediário", utensilios: ["Assadeira retangular", "Tigela grande"] },
                dicaDeMestre: "Não tenha medo da massa pegajosa! A <span class='tooltip' data-tooltip='A quantidade de água em relação à quantidade de farinha numa massa. Massas com alta hidratação são mais húmidas e resultam em pães com miolo mais aberto e aerado.'>alta hidratação</span> é o segredo para o miolo fofo e cheio de bolhas da focaccia. Use as mãos untadas com azeite para manusear a massa e evitar que cole.",
                ingredients: [
                    { name: 'Farinha de Trigo', base_qty: 500, unit: 'g', scalable: true },
                    { name: 'Água morna', base_qty: 400, unit: 'ml', scalable: true },
                    { name: 'Fermento Biológico Seco', base_qty: 7, unit: 'g', scalable: true },
                    { name: 'Sal', base_qty: 10, unit: 'g', scalable: true },
                    { name: 'Azeite Extra Virgem', base_qty: 50, unit: 'ml', scalable: true },
                    { name: 'Alecrim fresco e Sal grosso', base_qty: 0, unit: 'Para cobrir', scalable: false }
                ],
                steps: [
                    { title: "A Massa Húmida", description: "Numa tigela, misture a farinha, o fermento e o sal. Adicione a água morna e 2 colheres de sopa de azeite. Misture até formar uma massa muito húmida e pegajosa. Cubra e deixe levedar por 1 a 1.5 horas, ou até duplicar.", porque: "Uma massa com alta percentagem de água desenvolve o glúten com o tempo, sem precisar de muita sova, e resulta num miolo muito mais leve e aerado.", pontoCritico: "A massa estará correta se for demasiado pegajosa para sovar numa bancada. Confie no processo." },
                    { title: "Esticar e Segunda Fermentação", description: "Unte generosamente uma assadeira retangular com azeite. Despeje a massa na assadeira. Com as pontas dos dedos untadas em azeite, estique e pressione a massa delicadamente para que ela preencha a forma. Cubra e deixe levedar por mais 30-45 minutos.", porque: "O azeite na assadeira não só impede que a focaccia cole, mas também 'frita' a base, deixando-a crocante. A segunda fermentação cria mais bolhas de ar.", pontoCritico: "Seja gentil ao esticar a massa para não rebentar as bolhas de ar que se formaram." },
                    { title: "Furar e Temperar", description: "Pré-aqueça o forno a 220°C. Unte novamente as pontas dos dedos com azeite e pressione firmemente a massa, criando as 'covinhas' características da focaccia. Regue com mais azeite, polvilhe com os ramos de alecrim e sal grosso.", porque: "As covinhas criam uma textura irregular e são perfeitas para reter o azeite e os temperos, infundindo sabor na massa durante o cozimento.", pontoCritico: "Pressione os dedos até ao fundo da assadeira para criar covinhas bem definidas." },
                    { title: "Assar em Forno Quente", description: "Leve ao forno quente por 20 a 25 minutos, ou até estar bem dourada e cozida. Retire da forma e deixe arrefecer sobre uma grelha.", porque: "O calor alto ajuda a focaccia a crescer rapidamente e a criar uma crosta dourada, mantendo o interior fofo.", pontoCritico: "Arrefecer sobre uma grelha evita que a base fique húmida e amolecida pelo vapor.", timer: 1200 }
                ],
                variacoes: [
                    "<strong>Com Tomate Cherry e Azeitonas:</strong> Pressione tomates cherry e azeitonas nas covinhas antes de assar.",
                    "<strong>Com Pesto:</strong> Espalhe uma camada de pesto sobre a massa antes da segunda fermentação.",
                    "<strong>Recheada:</strong> Divida a massa em duas, estique uma parte, cubra com queijo e presunto, e coloque a outra parte da massa por cima antes de fazer as covinhas."
                ]
            },
            'pao-de-leite': {
                title: "Aula 05: Pão de Leite Fofinho",
                description: "Aprenda a fazer o pão de leite clássico, com uma textura ultra macia e um sabor ligeiramente adocicado. Esta aula é uma introdução às <span class='tooltip' data-tooltip='Massas que contêm uma maior percentagem de gordura, açúcar e laticínios, resultando numa textura mais macia e rica.'>massas ricas</span>, perfeitas para o lanche ou pequeno-almoço.",
                calculator: { label: "Pães:", unit: "pao-de-leite-input", base_value: 12, default_value: 12 },
                details: { tempoPreparo: "25 min", tempoCozimento: "20-25 min", tempoDescanso: "2 horas", rendimento: "12 pãezinhos", dificuldade: "Intermediário", utensilios: ["Batedeira com gancho (opcional)", "Tigela", "Tabuleiro"] },
                dicaDeMestre: "Pincelar os pães com uma mistura de gema de ovo e um pouco de leite antes de assar (egg wash) é o segredo para obter uma crosta brilhante e com uma cor dourada profunda e uniforme.",
                ingredients: [
                    { name: 'Farinha de Trigo', base_qty: 500, unit: 'g', scalable: true },
                    { name: 'Leite morno', base_qty: 250, unit: 'ml', scalable: true },
                    { name: 'Açúcar', base_qty: 50, unit: 'g', scalable: true },
                    { name: 'Manteiga sem sal, amolecida', base_qty: 50, unit: 'g', scalable: true },
                    { name: 'Ovo', base_qty: 1, unit: 'unid.', scalable: true },
                    { name: 'Fermento Biológico Seco', base_qty: 7, unit: 'g', scalable: true },
                    { name: 'Sal', base_qty: 1, unit: 'c. de chá', scalable: true }
                ],
                steps: [
                    { title: "A Massa Rica", description: "Numa tigela, misture o leite morno e o fermento. Numa tigela maior (ou na da batedeira), junte a farinha, o açúcar e o sal. Adicione a mistura de leite, o ovo e a manteiga amolecida. Comece a misturar até formar uma massa.", porque: "As massas ricas contêm gordura (manteiga) e açúcar, que amaciam o glúten e resultam num miolo mais macio e menos elástico do que o de um pão rústico.", pontoCritico: "A manteiga deve estar amolecida, não derretida, para se incorporar melhor na massa." },
                    { title: "Sovar até Ficar Elástica", description: "Sove a massa numa bancada por 10-15 minutos (ou 8-10 minutos na batedeira com o gancho) até ficar lisa, elástica e macia.", porque: "Mesmo sendo uma massa rica, o desenvolvimento do glúten ainda é necessário para dar estrutura ao pão e permitir que ele cresça.", pontoCritico: "A massa ficará um pouco pegajosa devido ao açúcar e à gordura. Evite adicionar demasiada farinha extra." },
                    { title: "Fermentação e Moldagem", description: "Faça uma bola com a massa, coloque-a numa tigela untada, cubra e deixe levedar por 1 a 1.5 horas. Depois, divida a massa em 12 porções iguais e modele pequenas bolas. Coloque-as num tabuleiro, cubra e deixe levedar por mais 45 minutos.", porque: "A fermentação dupla garante um pão mais leve e com um sabor mais desenvolvido.", pontoCritico: "Deixe espaço entre as bolinhas no tabuleiro, pois elas irão crescer e podem juntar-se, o que é normal para este tipo de pão." },
                    { title: "Pincelar e Assar", description: "Pré-aqueça o forno a 180°C. Pincele os pães com uma mistura de gema e leite. Leve ao forno por 20 a 25 minutos, ou até estarem bem dourados. Deixe arrefecer sobre uma grelha.", porque: "O 'egg wash' dá a cor e o brilho característicos. O calor moderado do forno cozinha a massa rica de forma mais gentil.", pontoCritico: "Como contêm açúcar, estes pães douram mais rápido. Fique atento para não queimarem.", timer: 1200 }
                ],
                variacoes: [
                    "<strong>Com Chocolate:</strong> Adicione pepitas de chocolate à massa.",
                    "<strong>Pão Doce:</strong> Aumente a quantidade de açúcar e cubra com uma calda de açúcar em pó e leite depois de assados.",
                    "<strong>Formato de Forma:</strong> Asse a massa inteira numa forma de pão para um pão de leite de fatiar."
                ]
            },
            'baguete': {
                title: "Aula 06: Baguete Francesa Simplificada",
                description: "Domine a arte de modelar uma baguete e conseguir a sua casca estaladiça e o miolo aberto e arejado. Esta é uma versão simplificada que se foca nas técnicas chave sem exigir um vapor profissional.",
                calculator: { label: "Número de Baguetes:", unit: "baguete-input", base_value: 2, default_value: 2 },
                details: { tempoPreparo: "20 min", tempoCozimento: "25-30 min", tempoDescanso: "3 horas", rendimento: "2 baguetes", dificuldade: "Avançado", utensilios: ["Tabuleiro de baguetes ou papel vegetal", "Lâmina de padeiro", "Tigela grande"] },
                dicaDeMestre: "O vapor é o segredo da crosta da baguete. Em casa, pode simular um forno a vapor colocando um tabuleiro vazio na prateleira de baixo do forno enquanto ele aquece. Assim que colocar o pão, deite um copo de água a ferver nesse tabuleiro quente. Feche a porta rapidamente.",
                ingredients: [
                    { name: 'Farinha de Trigo T65 (ou de pão)', base_qty: 500, unit: 'g', scalable: true },
                    { name: 'Água', base_qty: 350, unit: 'ml', scalable: true },
                    { name: 'Sal', base_qty: 10, unit: 'g', scalable: true },
                    { name: 'Fermento Biológico Seco', base_qty: 4, unit: 'g', scalable: true }
                ],
                steps: [
                    { title: "Autólise e Primeira Fermentação", description: "Misture a farinha e a água até não haver farinha seca. Deixe descansar por 30 minutos (este processo chama-se <span class='tooltip' data-tooltip='Técnica onde se mistura apenas farinha e água, deixando descansar. Facilita a sova e melhora a textura do pão.'>autólise</span>). Adicione o sal e o fermento e sove por 10 minutos. Deixe levedar por 1.5 a 2 horas, fazendo dobras na massa a cada 30 minutos.", porque: "A autólise hidrata a farinha e começa a desenvolver o glúten passivamente. As dobras (stretches and folds) fortalecem o glúten sem uma sova intensa, ideal para massas mais húmidas.", pontoCritico: "A massa será pegajosa. Use as mãos molhadas para fazer as dobras e evitar que cole." },
                    { title: "Pré-modelagem e Modelagem", description: "Divida a massa em duas. Pré-modele cada porção num retângulo. Deixe descansar por 15 minutos. Depois, modele a baguete: dobre a massa como se fosse uma carta, sele as pontas, e enrole para formar um cilindro longo e fino.", porque: "A modelagem cria tensão na superfície da massa, o que é crucial para um bom 'oven spring' e para o formato final.", pontoCritico: "A modelagem da baguete requer prática. Veja vídeos para entender o movimento de enrolar e selar." },
                    { title: "Segunda Fermentação e Cortar", description: "Coloque as baguetes num pano de padeiro (couche) ou em papel vegetal, criando uma dobra para as separar. Deixe levedar por 30-45 minutos. Pré-aqueça o forno e a pedra/tabuleiro a 240°C. Transfira as baguetes para o tabuleiro quente e faça 3 a 5 cortes diagonais com uma lâmina.", porque: "A segunda fermentação desenvolve o sabor final. Os cortes permitem que a baguete se expanda e criem as 'orelhas' características.", pontoCritico: "Use uma lâmina muito afiada (gillette) num ângulo de 45 graus para os cortes." },
                    { title: "Assar com Vapor", description: "Coloque o pão no forno e adicione água a ferver no tabuleiro de baixo para criar vapor. Asse por 10 minutos com vapor. Retire o tabuleiro com a água e continue a assar por mais 15-20 minutos, até ficarem bem douradas.", porque: "O vapor inicial mantém a crosta húmida, permitindo o máximo crescimento. O ambiente seco a seguir cria a crosta estaladiça.", pontoCritico: "Cuidado com o vapor ao abrir a porta do forno." }
                ],
                variacoes: [
                    "<strong>Com Gergelim:</strong> Borrife com água e polvilhe com sementes de gergelim antes de assar.",
                    "<strong>Baguete Rústica:</strong> Use uma parte de farinha de centeio na mistura."
                ]
            },
            'pao-integral': {
                title: "Aula 07: Pão Integral com Sementes",
                description: "Aprenda a fazer um pão integral fofo e saboroso. O segredo é saber como lidar com a farinha integral, que se comporta de forma diferente da branca, e enriquecer a massa com sementes para mais textura e nutrientes.",
                calculator: { label: "Pães (Forma):", unit: "pao-integral-input", base_value: 1, default_value: 1 },
                details: { tempoPreparo: "25 min", tempoCozimento: "40-45 min", tempoDescanso: "2 horas", rendimento: "1 pão de forma grande", dificuldade: "Intermediário", utensilios: ["Forma de pão", "Tigela grande"] },
                dicaDeMestre: "A farinha integral absorve mais água que a branca. Para um miolo mais húmido, use a técnica do '<span class='tooltip' data-tooltip='Mistura de farinha e água (e por vezes outros ingredientes) que é deixada a demolhar antes da sova, para hidratar completamente o amido e o farelo.'>soaker</span>': misture a farinha integral e as sementes com a água da receita e deixe demolhar por 1 a 2 horas antes de adicionar o resto dos ingredientes.",
                ingredients: [
                    { name: 'Farinha de Trigo Integral', base_qty: 300, unit: 'g', scalable: true },
                    { name: 'Farinha de Trigo Branca', base_qty: 200, unit: 'g', scalable: true },
                    { name: 'Mistura de sementes (girassol, linhaça, abóbora)', base_qty: 100, unit: 'g', scalable: true },
                    { name: 'Água morna', base_qty: 350, unit: 'ml', scalable: true },
                    { name: 'Mel', base_qty: 2, unit: 'c. de sopa', scalable: true },
                    { name: 'Azeite', base_qty: 2, unit: 'c. de sopa', scalable: true },
                    { name: 'Fermento Biológico Seco', base_qty: 7, unit: 'g', scalable: true },
                    { name: 'Sal', base_qty: 10, unit: 'g', scalable: true }
                ],
                steps: [
                    { title: "Preparar a Massa", description: "Numa tigela grande, misture as farinhas, as sementes e o sal. Noutra tigela, misture a água morna, o mel, o azeite e o fermento. Junte os líquidos aos secos e misture até formar uma massa pegajosa.", porque: "A combinação de farinha integral e branca dá o equilíbrio perfeito entre sabor, nutrição (integral) e estrutura de glúten (branca), resultando num pão mais fofo do que um 100% integral.", pontoCritico: "A massa será mais densa e menos elástica do que uma massa apenas com farinha branca. Isto é normal." },
                    { title: "Sovar e Fermentar", description: "Sove a massa por cerca de 10 minutos numa bancada levemente enfarinhada até ficar mais elástica. Forme uma bola, coloque numa tigela untada, cubra e deixe levedar por 1 a 1.5 horas, ou até duplicar.", porque: "Mesmo com farinha integral, a sova é importante para desenvolver o glúten necessário para um bom crescimento.", pontoCritico: "Não espere a mesma elasticidade do 'ponto de véu' de uma massa branca. A fibra da farinha integral 'corta' as redes de glúten." },
                    { title: "Modelar e Assar", description: "Modele a massa num rolo e coloque-a numa forma de pão untada. Cubra e deixe levedar por mais 45 minutos. Pré-aqueça o forno a 200°C. Pincele o topo com um pouco de água e polvilhe com mais sementes. Asse por 40 a 45 minutos.", porque: "Modelar para uma forma de pão dá suporte à massa mais densa, ajudando-a a crescer para cima.", pontoCritico: "O pão integral está pronto quando soa oco ao bater no fundo e a temperatura interna atinge cerca de 90°C." }
                ],
                variacoes: [
                    "<strong>Com Frutos Secos:</strong> Adicione passas ou damascos picados à massa.",
                    "<strong>Pão de Centeio:</strong> Substitua parte da farinha integral por farinha de centeio para um sabor mais robusto."
                ]
            },
            'massa-pizza': { title: "Aula 08: Massa de Pizza Clássica (Longa Fermentação)" },
            'pao-biga': { title: "Aula 09: Pão Italiano com Biga" },
            'sourdough': { title: "Aula 10: Introdução ao Pão de Fermentação Natural" }
        };

        // ===================================================================================
        // FUNÇÕES GLOBAIS (NÃO MEXER)
        // ===================================================================================
        
        const aulasList = document.getElementById('aulas-list');
        const pageTitle = document.getElementById('page-title');
        const receitasContainer = document.getElementById('receitas-container');
        const backToListBtn = document.getElementById('back-to-list-btn');
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        // Menu Mobile
        if(menuBtn && mobileMenu){
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        }

        const formatNumber = (num) => {
            if (num < 1 && num > 0) return num.toFixed(2);
            if (num % 1 !== 0) return num.toFixed(1);
            return num;
        };
        
        const updateIngredients = (recipeData, inputValue) => {
            const list = document.getElementById(`ingredient-list-${recipeData.calculator.unit}`);
            if (!list || !recipeData.ingredients) return;

            const multiplier = inputValue / recipeData.calculator.base_value;
            let html = '';
            let currentHeading = '';

            recipeData.ingredients.forEach(ing => {
                if(ing.heading && ing.heading !== currentHeading) {
                    currentHeading = ing.heading;
                    html += `<h5 class="font-bold text-stone-700 mt-3 mb-1">${currentHeading}:</h5>`;
                }

                let qtyDisplay = '';
                if (!ing.scalable) {
                    qtyDisplay = ing.unit;
                } else {
                    const scaledQty = ing.base_qty * multiplier;
                    qtyDisplay = `${formatNumber(scaledQty)} ${ing.unit}`;
                }
                
                html += `
                    <li class="ingredient-item">
                        <label class="flex items-center p-1 rounded-md hover:bg-stone-100">
                            <input type="checkbox" class="mr-2 h-4 w-4 text-amber-600 focus:ring-amber-500 border-stone-300 rounded">
                            <span class="flex-1 flex justify-between">
                                <span>${ing.name}</span>
                                <span class="font-semibold text-right pl-2">${qtyDisplay}</span>
                            </span>
                        </label>
                    </li>`;
            });
            list.innerHTML = html;
        };

        const generateRecipeHTML = (recipeData) => {
             if (!recipeData.details) {
                return `<div class="text-center p-10"><h2 class="text-3xl font-bold text-amber-700">${recipeData.title}</h2><p class="mt-4 text-stone-600">O conteúdo detalhado para esta aula estará disponível em breve. Obrigado pela sua paciência!</p></div>`;
            }
             return `
                <div class="text-center">
                    <h2 class="text-3xl md:text-4xl font-bold text-amber-700">${recipeData.title}</h2>
                    <p class="mt-4 max-w-3xl mx-auto text-stone-600 text-lg">${recipeData.description}</p>
                </div>
                
                <div class="mt-10 grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div class="bg-stone-100 p-4 rounded-lg flex flex-col justify-center items-center">
                        <span class="text-2xl">⏳</span>
                        <h4 class="font-bold text-stone-800">Preparo</h4>
                        <p class="text-stone-600 text-sm">${recipeData.details.tempoPreparo}</p>
                    </div>
                    <div class="bg-stone-100 p-4 rounded-lg flex flex-col justify-center items-center">
                        <span class="text-2xl">🍳</span>
                        <h4 class="font-bold text-stone-800">Cozimento</h4>
                        <p class="text-stone-600 text-sm">${recipeData.details.tempoCozimento}</p>
                    </div>
                    <div class="bg-stone-100 p-4 rounded-lg flex flex-col justify-center items-center">
                        <span class="text-2xl">🍽️</span>
                        <h4 class="font-bold text-stone-800">Rendimento</h4>
                        <p class="text-stone-600 text-sm">${recipeData.details.rendimento}</p>
                    </div>
                    <div class="bg-stone-100 p-4 rounded-lg flex flex-col justify-center items-center">
                        <span class="text-2xl">⭐</span>
                        <h4 class="font-bold text-stone-800">Dificuldade</h4>
                        <p class="text-stone-600 text-sm">${recipeData.details.dificuldade}</p>
                    </div>
                </div>

                <div class="mt-12 grid grid-cols-1 lg:grid-cols-3 gap-x-12 gap-y-8">
                    <div class="lg:col-span-1">
                        <h3 class="text-2xl font-bold text-stone-800 mb-4 border-b-2 border-amber-500 pb-2">Planeamento</h3>
                        <div class="bg-stone-50 p-4 rounded-lg">
                            <label for="${recipeData.calculator.unit}" class="block text-lg text-stone-700 mb-2 font-bold">${recipeData.calculator.label}</label>
                            <input type="number" id="${recipeData.calculator.unit}" value="${recipeData.calculator.default_value}" min="0.5" step="1" class="w-full p-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500">
                        </div>
                        <div class="mt-6">
                            <h4 class="font-bold text-lg mb-2 text-stone-700">Checklist de Ingredientes:</h4>
                            <ul class="space-y-1 text-stone-600 text-sm" id="ingredient-list-${recipeData.calculator.unit}"></ul>
                        </div>
                         <div class="mt-6">
                            <h4 class="font-bold text-lg mb-2 text-stone-700">Utensílios Chave:</h4>
                            <ul class="space-y-2 text-stone-600 list-disc list-inside text-sm">
                                ${recipeData.details.utensilios.map(utensil => `<li>${utensil}</li>`).join('')}
                            </ul>
                        </div>
                    </div>

                    <div class="lg:col-span-2">
                        <h3 class="text-2xl font-bold text-stone-800 mb-4 border-b-2 border-amber-500 pb-2">Tutorial Detalhado</h3>
                        <div class="space-y-6">
                            ${recipeData.steps.map((step, index) => {
                                if (step.isSubRecipe) {
                                    return `
                                    <div class="p-4 rounded-lg bg-amber-50 border-l-4 border-amber-400">
                                        <h4 class="font-bold text-xl text-amber-800 mb-4">${step.title}</h4>
                                        <div class="space-y-4">
                                        ${step.subSteps.map(subStep => `
                                            <div class="ml-4">
                                                <h5 class="font-semibold text-lg text-stone-800 mb-1">${subStep.title}</h5>
                                                <div class="prose prose-stone max-w-none text-sm">
                                                    <p>${subStep.description}</p>
                                                     <details class="mt-3 text-xs">
                                                        <summary class="font-bold text-blue-800">Ver o porquê</summary>
                                                        <div class="mt-2 bg-blue-50 text-blue-800 rounded-md p-3">${subStep.porque}</div>
                                                     </details>
                                                     <details class="mt-2 text-xs">
                                                        <summary class="font-bold text-red-800">Ver ponto crítico</summary>
                                                        <div class="mt-2 bg-red-50 text-red-800 rounded-md p-3">${subStep.pontoCritico}</div>
                                                     </details>
                                                </div>
                                            </div>
                                        `).join('')}
                                        </div>
                                    </div>`;
                                }
                                return `
                                <div class="p-4 rounded-lg bg-stone-50 border-l-4 border-stone-200">
                                    <h4 class="font-bold text-xl text-stone-800 mb-2"><span class="bg-amber-600 text-white rounded-full w-8 h-8 inline-flex items-center justify-center mr-3 text-base">${index + 1}</span> ${step.title}</h4>
                                    <div class="prose prose-stone max-w-none pl-11 text-sm">
                                        <p>${step.description}</p>
                                        <details class="mt-3 text-xs">
                                            <summary class="font-bold text-blue-800">Ver o porquê</summary>
                                            <div class="mt-2 bg-blue-50 text-blue-800 rounded-md p-3">${step.porque}</div>
                                        </details>
                                        <details class="mt-2 text-xs">
                                            <summary class="font-bold text-red-800">Ver ponto crítico</summary>
                                            <div class="mt-2 bg-red-50 text-red-800 rounded-md p-3">${step.pontoCritico}</div>
                                        </details>
                                    </div>
                                    ${step.timer ? `<div class="mt-4 pl-11 flex items-center gap-4"><button class="timer-btn bg-amber-500 text-white px-4 py-2 rounded-lg hover:bg-amber-600 transition text-sm" data-time="${step.timer}">Iniciar Timer (${Math.floor(step.timer/60)}m ${step.timer%60}s)</button><span class="timer-display text-lg font-mono font-bold text-amber-700"></span></div>` : ''}
                                </div>`;
                            }).join('')}
                        </div>
                        
                        <div class="mt-8">
                            <h3 class="text-2xl font-bold text-stone-800 mb-4 border-b-2 border-amber-500 pb-2">Variações e Dicas</h3>
                            <div class="prose prose-stone max-w-none bg-amber-50 p-4 rounded-lg border-l-4 border-amber-400 text-sm">
                                ${recipeData.variacoes.map(item => `<p>${item}</p>`).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };
        
        const setupPage = () => {
            const hash = window.location.hash;
            if (hash) {
                const targetId = hash.substring(1);
                const targetCard = document.querySelector(`[data-target='${targetId}']`);
                if (targetCard) {
                    const targetRecipe = document.getElementById(targetId);
                    aulasList.classList.add('hidden');
                    pageTitle.classList.add('hidden');
                    receitasContainer.classList.remove('hidden');
                    targetRecipe.classList.remove('hidden');
                    window.scrollTo(0, 0);
                }
            }

            document.querySelectorAll('.aula-card').forEach(card => {
                const recipeId = card.dataset.target.replace('receita-', '');
                const recipeData = aulas[recipeId];

                if (recipeData) {
                    const targetElement = document.getElementById(card.dataset.target);
                    targetElement.innerHTML = generateRecipeHTML(recipeData);
                    
                    if (recipeData.calculator) {
                        const input = document.getElementById(recipeData.calculator.unit);
                        if (input) {
                            input.addEventListener('input', (e) => {
                                updateIngredients(recipeData, e.target.value);
                            });
                            updateIngredients(recipeData, input.value);
                        }
                    }
                }

                card.addEventListener('click', () => {
                    const targetId = card.dataset.target;
                    const targetRecipe = document.getElementById(targetId);
                    
                    aulasList.classList.add('hidden');
                    pageTitle.classList.add('hidden');
                    receitasContainer.classList.remove('hidden');
                    targetRecipe.classList.remove('hidden');
                    window.location.hash = targetId;
                    window.scrollTo(0, 0);
                });
            });

            backToListBtn.addEventListener('click', () => {
                aulasList.classList.remove('hidden');
                pageTitle.classList.remove('hidden');
                receitasContainer.classList.add('hidden');
                document.querySelectorAll('.receita-content').forEach(recipe => {
                    recipe.classList.add('hidden');
                });
                history.pushState("", document.title, window.location.pathname + window.location.search);
                window.scrollTo(0, 0);
            });
            
            receitasContainer.addEventListener('click', (event) => {
                if (event.target.classList.contains('timer-btn')) {
                    const button = event.target;
                    if (button.classList.contains('active')) return;

                    let timeInSeconds = parseInt(button.dataset.time, 10);
                    const display = button.nextElementSibling;
                    
                    button.classList.add('active');
                    button.disabled = true;
                    
                    const interval = setInterval(() => {
                        const minutes = Math.floor(timeInSeconds / 60);
                        const seconds = timeInSeconds % 60;
                        if(display) { display.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`; }
                        
                        if (timeInSeconds <= 0) {
                            clearInterval(interval);
                            if(display) display.textContent = "Tempo esgotado!";
                            button.classList.remove('active');
                            button.disabled = false;
                        } else { timeInSeconds--; }
                    }, 1000);
                }
            });
        };

        setupPage();
    });
    </script>
</body>
</html>
